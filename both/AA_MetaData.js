/// <reference path="../typescript-defs/all-definitions.d.ts"/>
console.log("Loading MetaData.ts....");
class RelationshipKey {
}
RelationshipKey.SUBJECT_TREE = "SUBJECT_TREE";
this.RelationshipKey = RelationshipKey;
class ClassType {
}
ClassType.MAP = "map";
ClassType.COUNTER = "counter";
this.ClassType = ClassType;
var ClassStructureTypes;
(function (ClassStructureTypes) {
    ClassStructureTypes[ClassStructureTypes["Basic"] = 0] = "Basic";
    ClassStructureTypes[ClassStructureTypes["Tree"] = 1] = "Tree";
})(ClassStructureTypes || (ClassStructureTypes = {}));
this.ClassStructureTypes = ClassStructureTypes;
class ClassMetaData {
    static cast(object) {
        return object;
    }
    fromJSONValue(doc) {
        // default implementation
        for (var properties in doc) {
            this[properties] = doc[properties];
        }
    }
    toString() { return "no string"; }
    equals(other) {
        if (!(other instanceof ClassMetaData))
            return false;
        if (EJSON.stringify(this) == EJSON.stringify(other))
            return true;
        return false;
    }
    typeName() {
        return "ClassMetaData";
    }
    clone() {
        var newObject = new ClassMetaData();
        newObject.fromJSONValue(this);
        return newObject;
    }
}
this.ClassMetaData = ClassMetaData;
var RelationshipType;
(function (RelationshipType) {
    RelationshipType[RelationshipType["Tree"] = 0] = "Tree";
    RelationshipType[RelationshipType["OneWay"] = 1] = "OneWay";
    RelationshipType[RelationshipType["TwoWay"] = 2] = "TwoWay";
})(RelationshipType || (RelationshipType = {}));
this.RelationshipType = RelationshipType;
var RelationshipPossible;
(function (RelationshipPossible) {
    RelationshipPossible[RelationshipPossible["Add"] = 0] = "Add";
    RelationshipPossible[RelationshipPossible["Replace"] = 1] = "Replace";
    RelationshipPossible[RelationshipPossible["Remove"] = 3] = "Remove";
    RelationshipPossible[RelationshipPossible["NotAllowed"] = 4] = "NotAllowed";
    RelationshipPossible[RelationshipPossible["AlreadyExists"] = 5] = "AlreadyExists";
})(RelationshipPossible || (RelationshipPossible = {}));
this.RelationshipPossible = RelationshipPossible;
class RelationshipLabel {
    clone() {
        var newObject = new RelationshipLabel();
        newObject.fromJSONValue(this);
        return newObject;
    }
    fromJSONValue(doc) {
        this.label = doc["label"];
        this.optional = doc["optional"];
    }
    toJSONValue() {
        return {
            "label": this.label, "optional": this.optional
        };
    }
    typeName() {
        return "RelationshipLabel";
    }
    equals(other) {
        if (!(other instanceof RelationshipLabel))
            return false;
        if (EJSON.stringify(this) == EJSON.stringify(other))
            return true;
        return false;
    }
}
this.RelationshipLabel = RelationshipLabel;
class RelationshipLabels {
    clone() {
        var newObject = new RelationshipLabels();
        newObject.fromJSONValue(this);
        return newObject;
    }
    toJSONValue() {
        var valueArray = new Array();
        for (var item in this.labels) {
            var value = this.labels[item].toJSONValue();
            valueArray.push(value);
        }
        return {
            labels: this.labels
        };
    }
    fromJSONValue(doc) {
        this.labels = new Array();
        for (var item in doc.labels) {
            var label = new RelationshipLabel();
            label.fromJSONValue(doc.labels[item]);
            this.labels.push(label);
        }
    }
    typeName() {
        return "RelationshipLabels";
    }
    equals(other) {
        if (!(other instanceof RelationshipLabels))
            return false;
        if (EJSON.stringify(this) == EJSON.stringify(other))
            return true;
        return false;
    }
}
this.RelationshipLabels = RelationshipLabels;
class RelationshipMetaData {
    toJSONValue() {
        return {
            from: this.from,
            to: this.to,
            description: this.description,
            label: this.label,
            relationshipType: this.relationshipType,
            relationshipLabels: this.relationshipLabels.toJSONValue(),
            useOnlyRelationLabels: this.useOnlyRelationLabels,
            sameObjectEnumeration: this.sameObjectEnumeration,
            sameClassEnumeration: this.sameClassEnumeration,
            sameObjectReverseAllowed: this.sameObjectReverseAllowed,
            routing: this.routing,
            curve: this.curve,
            maxLinks: this.maxLinks,
            visual: this.visual
        };
    }
    fromJSONValue(doc) {
        this["_id"] = doc._id;
        this["theID"] = doc._id;
        this.to = doc.to;
        this.from = doc.from;
        this.description = doc.description;
        this.label = doc.label;
        this.relationshipType = doc.relationshipType;
        this.relationshipLabels = new RelationshipLabels();
        this.relationshipLabels.fromJSONValue(doc.relationshipLabels);
        this.useOnlyRelationLabels = doc.useOnlyRelationLabels;
        this.sameObjectEnumeration = doc.sameObjectEnumeration;
        this.routing = doc.routing;
        this.curve = doc.routing;
        this.maxLinks = doc.maxLinks;
        this.visual = doc.visual;
        this.isPersistant = doc.isPersistant;
    }
    toString() { return "no string"; }
    equals(other) {
        if (!(other instanceof RelationshipMetaData))
            return false;
        if (EJSON.stringify(this) == EJSON.stringify(other))
            return true;
        return false;
    }
    typeName() {
        return "RelationshipMetaData";
    }
    clone() {
        var newObject = new RelationshipMetaData();
        newObject.fromJSONValue(this);
        return newObject;
    }
}
this.RelationshipMetaData = RelationshipMetaData;
var ProxyClassTypes;
(function (ProxyClassTypes) {
    ProxyClassTypes[ProxyClassTypes["Basic"] = 0] = "Basic";
    ProxyClassTypes[ProxyClassTypes["Tree"] = 1] = "Tree";
    ProxyClassTypes[ProxyClassTypes["Map"] = 2] = "Map";
    ProxyClassTypes[ProxyClassTypes["Folder"] = 3] = "Folder";
    ProxyClassTypes[ProxyClassTypes["Library"] = 4] = "Library";
})(ProxyClassTypes || (ProxyClassTypes = {}));
this.ProxyClassTypes = ProxyClassTypes;
var RoutingType;
(function (RoutingType) {
    RoutingType[RoutingType["Orthogonal"] = 0] = "Orthogonal";
    RoutingType[RoutingType["Normal"] = 1] = "Normal";
    RoutingType[RoutingType["AvoidsNodes"] = 2] = "AvoidsNodes";
})(RoutingType || (RoutingType = {}));
this.RoutingType = RoutingType;
var CurveType;
(function (CurveType) {
    CurveType[CurveType["JumpOver"] = 0] = "JumpOver";
    CurveType[CurveType["Bezier"] = 1] = "Bezier";
})(CurveType || (CurveType = {}));
this.CurveType = CurveType;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQUFfTWV0YURhdGEuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJBQV9NZXRhRGF0YS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSwrREFBK0Q7QUFHL0QsT0FBTyxDQUFDLEdBQUcsQ0FBQyx5QkFBeUIsQ0FBQyxDQUFDO0FBQ3ZDO0FBR0EsQ0FBQztBQURjLDRCQUFZLEdBQWMsY0FBYyxDQUN0RDtBQUNELElBQUksQ0FBQyxlQUFlLEdBQUcsZUFBZSxDQUFDO0FBRXZDO0FBSUEsQ0FBQztBQUhjLGFBQUcsR0FBc0IsS0FBSyxDQUFBO0FBQzlCLGlCQUFPLEdBQXFCLFNBQVMsQ0FFbkQ7QUFDRCxJQUFJLENBQUMsU0FBUyxHQUFHLFNBQVMsQ0FBQztBQUMzQixJQUFLLG1CQUEyQztBQUFoRCxXQUFLLG1CQUFtQjtJQUFHLCtEQUFTLENBQUE7SUFBRSw2REFBUSxDQUFBO0FBQUMsQ0FBQyxFQUEzQyxtQkFBbUIsS0FBbkIsbUJBQW1CLFFBQXdCO0FBQ2hELElBQUksQ0FBQyxtQkFBbUIsR0FBRyxtQkFBbUIsQ0FBQztBQUUvQztJQUVDLE9BQWMsSUFBSSxDQUFDLE1BQVU7UUFDNUIsTUFBTSxDQUFpQixNQUFNLENBQUM7SUFDL0IsQ0FBQztJQW1CTSxhQUFhLENBQUMsR0FBTztRQUMzQix5QkFBeUI7UUFDekIsR0FBRyxDQUFDLENBQUMsSUFBSSxVQUFVLElBQUksR0FBRyxDQUFDLENBQUMsQ0FBQztZQUM1QixJQUFJLENBQUMsVUFBVSxDQUFDLEdBQUcsR0FBRyxDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBQ3BDLENBQUM7SUFDRixDQUFDO0lBQ00sUUFBUSxLQUFZLE1BQU0sQ0FBQyxXQUFXLENBQUMsQ0FBQSxDQUFDO0lBQ3hDLE1BQU0sQ0FBQyxLQUFtQjtRQUNoQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxZQUFZLGFBQWEsQ0FBQyxDQUFDO1lBQ3JDLE1BQU0sQ0FBQyxLQUFLLENBQUM7UUFDZCxFQUFFLENBQUMsQ0FBQyxL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QUUsbURBQU8sQ0FBQTtJQUFFLHlEQUFVLENBQUE7SUFBRSwyREFBVyxDQUFBO0FBQUEsQ0FBQyxFQUF4RSxlQUFlLEtBQWYsZUFBZSxRQUF5RDtBQUM3RSxJQUFJLENBQUMsZUFBZSxHQUFHLGVBQWUsQ0FBQztBQUN2QyxJQUFLLFdBQTJEO0FBQWhFLFdBQUssV0FBVztJQUFHLHlEQUFjLENBQUE7SUFBRSxpREFBVSxDQUFBO0lBQUUsMkRBQWUsQ0FBQTtBQUFDLENBQUMsRUFBM0QsV0FBVyxLQUFYLFdBQVcsUUFBZ0Q7QUFDaEUsSUFBSSxDQUFDLFdBQVcsR0FBRyxXQUFXLENBQUM7QUFDL0IsSUFBSyxTQUF3QztBQUE3QyxXQUFLLFNBQVM7SUFBSyxpREFBWSxDQUFBO0lBQUUsNkNBQVUsQ0FBQTtBQUFDLENBQUMsRUFBeEMsU0FBUyxLQUFULFNBQVMsUUFBK0I7QUFDN0MsSUFBSSxDQUFDLFNBQVMsR0FBRyxTQUFTLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vdHlwZXNjcmlwdC1kZWZzL2FsbC1kZWZpbml0aW9ucy5kLnRzXCIvPlxuXG5cbmNvbnNvbGUubG9nKFwiTG9hZGluZyBNZXRhRGF0YS50cy4uLi5cIik7XG5jbGFzcyBSZWxhdGlvbnNoaXBLZXkge1xuXG5cdHB1YmxpYyBzdGF0aWMgU1VCSkVDVF9UUkVFICAgICAgICAgICAgPSBcIlNVQkpFQ1RfVFJFRVwiO1xufVxudGhpcy5SZWxhdGlvbnNoaXBLZXkgPSBSZWxhdGlvbnNoaXBLZXk7XG5cbmNsYXNzIENsYXNzVHlwZSB7XG5cdHB1YmxpYyBzdGF0aWMgTUFQOnN0cmluZyAgICAgICAgICAgIFx0PSBcIm1hcFwiXG5cdHB1YmxpYyBzdGF0aWMgQ09VTlRFUjpzdHJpbmcgICAgICAgICAgICA9IFwiY291bnRlclwiO1xuXG59XG50aGlzLkNsYXNzVHlwZSA9IENsYXNzVHlwZTtcbmVudW0gQ2xhc3NTdHJ1Y3R1cmVUeXBlcyB7IEJhc2ljID0gMCwgVHJlZSA9IDEgfVxudGhpcy5DbGFzc1N0cnVjdHVyZVR5cGVzID0gQ2xhc3NTdHJ1Y3R1cmVUeXBlcztcblxuY2xhc3MgQ2xhc3NNZXRhRGF0YSB7XG5cblx0cHVibGljIHN0YXRpYyBjYXN0KG9iamVjdDphbnkpOmFueSB7XG5cdFx0cmV0dXJuIDxDbGFzc01ldGFEYXRhPiBvYmplY3Q7XG5cdH1cblx0cHVibGljIGNsYXNzVHlwZTpDbGFzc1R5cGU7XG5cdHB1YmxpYyBzdHJ1Y3R1cmVUeXBlOlByb3h5Q2xhc3NUeXBlcztcblx0cHVibGljIHByb3h5Q2xhc3M6dHlwZW9mIEM0T2JqZWN0O1xuXHRwdWJsaWMgcHJveHlDbGFzc1N0cmluZzpzdHJpbmc7XG5cdHB1YmxpYyBvYmplY3RDbGFzc1N0cmluZzpzdHJpbmc7XG5cdHB1YmxpYyB0aW1lQ2Fwc3VsZTpib29sZWFuO1xuXHRwdWJsaWMgY29sbGVjdGlvbjphbnk7XG5cdHB1YmxpYyBkZXNjcmlwdGlvbjpzdHJpbmc7XG5cdHB1YmxpYyByb290TmFtZTpzdHJpbmc7XG5cdHB1YmxpYyBsYWJlbDpzdHJpbmc7XG5cdHB1YmxpYyBzdWJqZWN0RGV0YWlsOnN0cmluZztcblx0cHVibGljIHN1YmplY3RNYW5hZ2VyOnN0cmluZztcblx0cHVibGljIGV4cGxvcmVyVmlldzpzdHJpbmc7XG5cdHB1YmxpYyBodG1sSWNvbjpzdHJpbmc7XG5cdHB1YmxpYyBvYnNlcnZlVXBkYXRlczpib29sZWFuO1xuXHRwdWJsaWMgaXNQZXJzaXN0YW50OmJvb2xlYW47XG5cdHB1YmxpYyBtZWFzdXJlYWJsZTpib29sZWFuO1xuXG5cdHB1YmxpYyBmcm9tSlNPTlZhbHVlKGRvYzphbnkpIHtcblx0XHQvLyBkZWZhdWx0IGltcGxlbWVudGF0aW9uXG5cdFx0Zm9yICh2YXIgcHJvcGVydGllcyBpbiBkb2MpIHtcblx0XHRcdHRoaXNbcHJvcGVydGllc10gPSBkb2NbcHJvcGVydGllc107XG5cdFx0fVxuXHR9XG5cdHB1YmxpYyB0b1N0cmluZygpOnN0cmluZyB7IHJldHVybiBcIm5vIHN0cmluZ1wiO31cblx0cHVibGljIGVxdWFscyhvdGhlcjpDbGFzc01ldGFEYXRhKSB7XG5cdFx0aWYgKCEob3RoZXIgaW5zdGFuY2VvZiBDbGFzc01ldGFEYXRhKSlcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRpZiAoRUpTT04uc3RyaW5naWZ5KDxhbnk+dGhpcykgPT0gRUpTT04uc3RyaW5naWZ5KDxhbnk+b3RoZXIpKVxuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cdHB1YmxpYyB0eXBlTmFtZSgpIHtcblx0XHRyZXR1cm4gXCJDbGFzc01ldGFEYXRhXCI7XG5cdH1cblx0cHVibGljIGNsb25lKCk6Q2xhc3NNZXRhRGF0YSB7XG5cdFx0dmFyIG5ld09iamVjdCA9IG5ldyBDbGFzc01ldGFEYXRhKCk7XG5cdFx0bmV3T2JqZWN0LmZyb21KU09OVmFsdWUodGhpcyk7XG5cdFx0cmV0dXJuIG5ld09iamVjdDtcblx0fVxufVxudGhpcy5DbGFzc01ldGFEYXRhID0gQ2xhc3NNZXRhRGF0YTtcbmVudW0gUmVsYXRpb25zaGlwVHlwZSB7IFRyZWUgPSAwLCBPbmVXYXkgPSAxLCBUd29XYXkgPSAyfVxudGhpcy5SZWxhdGlvbnNoaXBUeXBlID0gUmVsYXRpb25zaGlwVHlwZTtcbmVudW0gUmVsYXRpb25zaGlwUG9zc2libGUgeyBBZGQgPSAwLCBSZXBsYWNlID0gMSwgUmVtb3ZlID0gMywgTm90QWxsb3dlZCA9IDQsIEFscmVhZHlFeGlzdHMgPSA1IH1cbnRoaXMuUmVsYXRpb25zaGlwUG9zc2libGUgPSBSZWxhdGlvbnNoaXBQb3NzaWJsZTtcblxuY2xhc3MgUmVsYXRpb25zaGlwTGFiZWwge1xuXHRwdWJsaWMgbGFiZWw6c3RyaW5nO1xuXHRwdWJsaWMgb3B0aW9uYWw6Ym9vbGVhbjtcblxuXHRwdWJsaWMgY2xvbmUoKTpSZWxhdGlvbnNoaXBMYWJlbCB7XG5cdFx0dmFyIG5ld09iamVjdCA9IG5ldyBSZWxhdGlvbnNoaXBMYWJlbCgpO1xuXHRcdG5ld09iamVjdC5mcm9tSlNPTlZhbHVlKHRoaXMpO1xuXHRcdHJldHVybiBuZXdPYmplY3Q7XG5cdH1cblxuXHRwdWJsaWMgZnJvbUpTT05WYWx1ZShkb2M6YW55KSB7XG5cdFx0dGhpcy5sYWJlbCAgICA9IGRvY1tcImxhYmVsXCJdO1xuXHRcdHRoaXMub3B0aW9uYWwgPSBkb2NbXCJvcHRpb25hbFwiXTtcblx0fVxuXG5cdHB1YmxpYyB0b0pTT05WYWx1ZSgpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0XCJsYWJlbFwiOiB0aGlzLmxhYmVsLCBcIm9wdGlvbmFsXCI6IHRoaXMub3B0aW9uYWxcblx0XHR9XG5cdH1cblxuXHRwdWJsaWMgdHlwZU5hbWUoKSB7XG5cdFx0cmV0dXJuIFwiUmVsYXRpb25zaGlwTGFiZWxcIjtcblx0fVxuXG5cdHB1YmxpYyBlcXVhbHMob3RoZXI6UmVsYXRpb25zaGlwTGFiZWwpIHtcblx0XHRpZiAoIShvdGhlciBpbnN0YW5jZW9mIFJlbGF0aW9uc2hpcExhYmVsKSlcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRpZiAoRUpTT04uc3RyaW5naWZ5KDxhbnk+dGhpcykgPT0gRUpTT04uc3RyaW5naWZ5KDxhbnk+b3RoZXIpKVxuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG59XG50aGlzLlJlbGF0aW9uc2hpcExhYmVsID0gUmVsYXRpb25zaGlwTGFiZWw7XG5jbGFzcyBSZWxhdGlvbnNoaXBMYWJlbHMge1xuXG5cdHB1YmxpYyBsYWJlbHM6QXJyYXk8UmVsYXRpb25zaGlwTGFiZWw+O1xuXG5cdHB1YmxpYyBjbG9uZSgpOlJlbGF0aW9uc2hpcExhYmVscyB7XG5cdFx0dmFyIG5ld09iamVjdCA9IG5ldyBSZWxhdGlvbnNoaXBMYWJlbHMoKTtcblx0XHRuZXdPYmplY3QuZnJvbUpTT05WYWx1ZSh0aGlzKTtcblx0XHRyZXR1cm4gbmV3T2JqZWN0O1xuXHR9XG5cdHB1YmxpYyB0b0pTT05WYWx1ZSgpOmFueSB7XG5cdFx0dmFyIHZhbHVlQXJyYXkgPSBuZXcgQXJyYXk8YW55PigpO1xuXHRcdGZvciAodmFyIGl0ZW0gaW4gdGhpcy5sYWJlbHMpIHtcblx0XHRcdHZhciB2YWx1ZSA9IHRoaXMubGFiZWxzW2l0ZW1dLnRvSlNPTlZhbHVlKCk7XG5cdFx0XHR2YWx1ZUFycmF5LnB1c2godmFsdWUpO1xuXHRcdH1cblx0XHRyZXR1cm4ge1xuXHRcdFx0bGFiZWxzOiB0aGlzLmxhYmVsc1xuXHRcdH1cblx0fVxuXHRwdWJsaWMgZnJvbUpTT05WYWx1ZShkb2M6YW55KSB7XG5cdFx0dGhpcy5sYWJlbHMgPSBuZXcgQXJyYXk8UmVsYXRpb25zaGlwTGFiZWw+KCk7XG5cdFx0Zm9yICh2YXIgaXRlbSBpbiBkb2MubGFiZWxzKSB7XG5cdFx0XHR2YXIgbGFiZWwgPSBuZXcgUmVsYXRpb25zaGlwTGFiZWwoKTtcblx0XHRcdGxhYmVsLmZyb21KU09OVmFsdWUoZG9jLmxhYmVsc1tpdGVtXSk7XG5cdFx0XHR0aGlzLmxhYmVscy5wdXNoKGxhYmVsKTtcblx0XHR9XG5cdH1cblx0cHVibGljIHR5cGVOYW1lKCkge1xuXHRcdHJldHVybiBcIlJlbGF0aW9uc2hpcExhYmVsc1wiO1xuXHR9XG5cdHB1YmxpYyBlcXVhbHMob3RoZXI6UmVsYXRpb25zaGlwTGFiZWxzKSB7XG5cdFx0aWYgKCEob3RoZXIgaW5zdGFuY2VvZiBSZWxhdGlvbnNoaXBMYWJlbHMpKVxuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdGlmIChFSlNPTi5zdHJpbmdpZnkoPGFueT50aGlzKSA9PSBFSlNPTi5zdHJpbmdpZnkoPGFueT5vdGhlcikpXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cbn1cbnRoaXMuUmVsYXRpb25zaGlwTGFiZWxzID0gUmVsYXRpb25zaGlwTGFiZWxzO1xuY2xhc3MgUmVsYXRpb25zaGlwTWV0YURhdGEge1xuXG5cdHB1YmxpYyBmcm9tOkNsYXNzVHlwZTtcblx0cHVibGljIHRvOkNsYXNzVHlwZTtcblx0cHVibGljIGRlc2NyaXB0aW9uOnN0cmluZztcblx0cHVibGljIGxhYmVsOnN0cmluZztcblx0cHVibGljIHJlbGF0aW9uc2hpcFR5cGU6UmVsYXRpb25zaGlwVHlwZTtcblx0cHVibGljIHJlbGF0aW9uc2hpcExhYmVsczpSZWxhdGlvbnNoaXBMYWJlbHM7XG5cdHB1YmxpYyB1c2VPbmx5UmVsYXRpb25MYWJlbHM6Ym9vbGVhbjtcblx0cHVibGljIHNhbWVPYmplY3RFbnVtZXJhdGlvbjpudW1iZXI7XG5cdHB1YmxpYyBzYW1lQ2xhc3NFbnVtZXJhdGlvbjpudW1iZXI7XG5cdHB1YmxpYyBzYW1lT2JqZWN0UmV2ZXJzZUFsbG93ZWQ6Ym9vbGVhbjtcblx0cHVibGljIHJvdXRpbmc6Um91dGluZ1R5cGU7XG5cdHB1YmxpYyBjdXJ2ZTpDdXJ2ZVR5cGU7XG5cdHB1YmxpYyBtYXhMaW5rczpudW1iZXI7XG5cdHB1YmxpYyB2aXN1YWw6Ym9vbGVhbjtcblx0cHVibGljIGlzUGVyc2lzdGFudDpib29sZWFuO1xuXG5cdHB1YmxpYyB0b0pTT05WYWx1ZSgpOmFueSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdGZyb20gICAgICAgICAgICAgICAgICAgIDogdGhpcy5mcm9tLFxuXHRcdFx0dG8gICAgICAgICAgICAgICAgICAgICAgOiB0aGlzLnRvLFxuXHRcdFx0ZGVzY3JpcHRpb24gICAgICAgICAgICAgOiB0aGlzLmRlc2NyaXB0aW9uLFxuXHRcdFx0bGFiZWwgICAgICAgICAgICAgICAgICAgOiB0aGlzLmxhYmVsLFxuXHRcdFx0cmVsYXRpb25zaGlwVHlwZSAgICAgICAgOiB0aGlzLnJlbGF0aW9uc2hpcFR5cGUsXG5cdFx0XHRyZWxhdGlvbnNoaXBMYWJlbHMgICAgICA6IHRoaXMucmVsYXRpb25zaGlwTGFiZWxzLnRvSlNPTlZhbHVlKCksXG5cdFx0XHR1c2VPbmx5UmVsYXRpb25MYWJlbHMgICA6IHRoaXMudXNlT25seVJlbGF0aW9uTGFiZWxzLFxuXHRcdFx0c2FtZU9iamVjdEVudW1lcmF0aW9uICAgOiB0aGlzLnNhbWVPYmplY3RFbnVtZXJhdGlvbixcblx0XHRcdHNhbWVDbGFzc0VudW1lcmF0aW9uICAgIDogdGhpcy5zYW1lQ2xhc3NFbnVtZXJhdGlvbixcblx0XHRcdHNhbWVPYmplY3RSZXZlcnNlQWxsb3dlZDogdGhpcy5zYW1lT2JqZWN0UmV2ZXJzZUFsbG93ZWQsXG5cdFx0XHRyb3V0aW5nICAgICAgICAgICAgICAgICA6IHRoaXMucm91dGluZyxcblx0XHRcdGN1cnZlICAgICAgICAgICAgICAgICAgIDogdGhpcy5jdXJ2ZSxcblx0XHRcdG1heExpbmtzICAgICAgICAgICAgICAgIDogdGhpcy5tYXhMaW5rcyxcblx0XHRcdHZpc3VhbCAgICAgICAgICAgICAgICAgIDogdGhpcy52aXN1YWxcblx0XHR9XG5cdH1cblx0cHVibGljIGZyb21KU09OVmFsdWUoZG9jOmFueSk6YW55IHtcblx0XHR0aGlzW1wiX2lkXCJdICAgICAgICAgICAgID0gZG9jLl9pZDtcblx0XHR0aGlzW1widGhlSURcIl0gICAgICAgICAgID0gZG9jLl9pZDtcblx0XHR0aGlzLnRvICAgICAgICAgICAgICAgICA9IGRvYy50bztcblx0XHR0aGlzLmZyb20gICAgICAgICAgICAgICA9IGRvYy5mcm9tO1xuXHRcdHRoaXMuZGVzY3JpcHRpb24gICAgICAgID0gZG9jLmRlc2NyaXB0aW9uO1xuXHRcdHRoaXMubGFiZWwgICAgICAgICAgICAgID0gZG9jLmxhYmVsO1xuXHRcdHRoaXMucmVsYXRpb25zaGlwVHlwZSAgID0gZG9jLnJlbGF0aW9uc2hpcFR5cGU7XG5cdFx0dGhpcy5yZWxhdGlvbnNoaXBMYWJlbHMgPSBuZXcgUmVsYXRpb25zaGlwTGFiZWxzKCk7XG5cdFx0dGhpcy5yZWxhdGlvbnNoaXBMYWJlbHMuZnJvbUpTT05WYWx1ZShkb2MucmVsYXRpb25zaGlwTGFiZWxzKTtcblx0XHR0aGlzLnVzZU9ubHlSZWxhdGlvbkxhYmVscyA9IGRvYy51c2VPbmx5UmVsYXRpb25MYWJlbHM7XG5cdFx0dGhpcy5zYW1lT2JqZWN0RW51bWVyYXRpb24gPSBkb2Muc2FtZU9iamVjdEVudW1lcmF0aW9uO1xuXHRcdHRoaXMucm91dGluZyAgICAgICAgICAgICAgID0gZG9jLnJvdXRpbmc7XG5cdFx0dGhpcy5jdXJ2ZSAgICAgICAgICAgICAgICAgPSBkb2Mucm91dGluZztcblx0XHR0aGlzLm1heExpbmtzICAgICAgICAgICAgICA9IGRvYy5tYXhMaW5rcztcblx0XHR0aGlzLnZpc3VhbCAgICAgICAgICAgICAgICA9IGRvYy52aXN1YWw7XG5cdFx0dGhpcy5pc1BlcnNpc3RhbnQgICAgICAgICAgPSBkb2MuaXNQZXJzaXN0YW50O1xuXHR9XG5cdHB1YmxpYyB0b1N0cmluZygpOnN0cmluZyB7IHJldHVybiBcIm5vIHN0cmluZ1wiO31cblx0cHVibGljIGVxdWFscyhvdGhlcjpSZWxhdGlvbnNoaXBNZXRhRGF0YSkge1xuXHRcdGlmICghKG90aGVyIGluc3RhbmNlb2YgUmVsYXRpb25zaGlwTWV0YURhdGEpKVxuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdGlmIChFSlNPTi5zdHJpbmdpZnkoPGFueT50aGlzKSA9PSBFSlNPTi5zdHJpbmdpZnkoPGFueT5vdGhlcikpXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblx0cHVibGljIHR5cGVOYW1lKCkge1xuXHRcdHJldHVybiBcIlJlbGF0aW9uc2hpcE1ldGFEYXRhXCI7XG5cdH1cblx0cHVibGljIGNsb25lKCk6UmVsYXRpb25zaGlwTWV0YURhdGEge1xuXHRcdHZhciBuZXdPYmplY3QgPSBuZXcgUmVsYXRpb25zaGlwTWV0YURhdGEoKTtcblx0XHRuZXdPYmplY3QuZnJvbUpTT05WYWx1ZSh0aGlzKTtcblx0XHRyZXR1cm4gbmV3T2JqZWN0O1xuXHR9XG59XG50aGlzLlJlbGF0aW9uc2hpcE1ldGFEYXRhID0gUmVsYXRpb25zaGlwTWV0YURhdGE7XG5lbnVtIFByb3h5Q2xhc3NUeXBlcyB7IEJhc2ljID0gMCwgVHJlZSA9IDEsIE1hcCA9IDIsIEZvbGRlciA9IDMsIExpYnJhcnkgPSA0fVxudGhpcy5Qcm94eUNsYXNzVHlwZXMgPSBQcm94eUNsYXNzVHlwZXM7XG5lbnVtIFJvdXRpbmdUeXBlIHsgT3J0aG9nb25hbCA9IDAsIE5vcm1hbCA9IDEsIEF2b2lkc05vZGVzID0gMiB9XG50aGlzLlJvdXRpbmdUeXBlID0gUm91dGluZ1R5cGU7XG5lbnVtIEN1cnZlVHlwZSAgIHsgSnVtcE92ZXIgPSAwLCBCZXppZXIgPSAxIH1cbnRoaXMuQ3VydmVUeXBlID0gQ3VydmVUeXBlO1xuIl19